# Android App Signing Guide

## Current Configuration ‚úÖ

### Debug Builds ‚úÖ
- **Status**: Fully configured and working
- **Keystore**: Uses Android's default debug keystore
- **Location**: `~/.android/debug.keystore` (auto-generated)
- **Purpose**: Development and testing
- **GitHub Actions**: Works out of the box

### Release Builds ‚úÖ
- **Status**: **Signed with debug keystore**
- **Output**: `app-release.apk` (signed and installable!)
- **Keystore**: Same as debug (no secrets needed)
- **Purpose**: Testing, GitHub distribution, development
- **GitHub Actions**: Works perfectly
- **Production**: For Google Play, you'll need production signing later

## How Signing Works

### Debug Signing (Current - Working)
```kotlin
buildTypes {
    debug {
        // Automatically uses debug keystore
        // No configuration needed
    }
}
```

**Debug keystore details:**
- Alias: `androiddebugkey`
- Password: `android`
- Auto-generated by Android SDK

### Release Signing (Future - Optional)

For production releases, you'll need to:

1. **Generate a release keystore:**
```bash
keytool -genkey -v -keystore release.keystore \
  -alias simple-live -keyalg RSA -keysize 2048 -validity 10000
```

2. **Update build.gradle.kts:**
```kotlin
signingConfigs {
    create("release") {
        storeFile = file("release.keystore")
        storePassword = System.getenv("KEYSTORE_PASSWORD") ?: "your-password"
        keyAlias = "simple-live"
        keyPassword = System.getenv("KEY_PASSWORD") ?: "your-password"
    }
}

buildTypes {
    release {
        signingConfig = signingConfigs.getByName("release")
        isMinifyEnabled = true
        isShrinkResources = true
    }
}
```

3. **Add keystore to .gitignore:**
```bash
echo "*.keystore" >> .gitignore
echo "*.jks" >> .gitignore
```

## GitHub Actions Setup (Optional)

To sign releases in GitHub Actions:

1. **Encode keystore to base64:**
```bash
base64 release.keystore > keystore.txt
```

2. **Add GitHub Secrets:**
   - Go to Settings ‚Üí Secrets ‚Üí Actions
   - Add secrets:
     - `KEYSTORE_BASE64` - Content of keystore.txt
     - `KEYSTORE_PASSWORD` - Your keystore password
     - `KEY_ALIAS` - Your key alias
     - `KEY_PASSWORD` - Your key password

3. **Update workflow:**
```yaml
- name: Decode keystore
  run: |
    echo "${{ secrets.KEYSTORE_BASE64 }}" | base64 -d > release.keystore

- name: Build signed APK
  env:
    KEYSTORE_PASSWORD: ${{ secrets.KEYSTORE_PASSWORD }}
    KEY_ALIAS: ${{ secrets.KEY_ALIAS }}
    KEY_PASSWORD: ${{ secrets.KEY_PASSWORD }}
  run: ./gradlew assembleRelease
```

## Current GitHub Actions Behavior

### What Works Now ‚úÖ

**Debug APK** (every push/PR):
- ‚úÖ Builds successfully
- ‚úÖ Signed with debug keystore automatically
- ‚úÖ Can be installed on any device immediately
- ‚úÖ Downloads as `simple-live-debug.apk`

**Release APK** (master branch only):
- ‚úÖ Builds successfully
- ‚úÖ **Signed with debug keystore** - ready to install!
- ‚úÖ Downloads as `simple-live-release.apk`
- ‚úÖ Can be installed on any device immediately
- ‚úÖ Includes ProGuard optimization and resource shrinking

### Installation

**Both APKs are ready to install immediately!**

1. Download from GitHub Actions artifacts
2. Transfer to Android device
3. Enable "Install from unknown sources" in settings
4. Tap the APK file to install

No additional signing needed!

## Recommendations

### For Development/Testing (Current Setup) ‚úÖ
```
Use DEBUG builds - they're signed automatically and work perfectly!
```

### For GitHub Distribution
```
Use DEBUG builds or set up GitHub Actions signing
```

### For Google Play Store
```
Must use proper release signing with production keystore
Google Play App Signing is recommended
```

## Summary

| Build Type | Signing Status | Can Install? | GitHub Actions | Optimized |
|------------|----------------|--------------|----------------|-----------|
| Debug | ‚úÖ Signed (debug key) | ‚úÖ Yes | ‚úÖ Working | ‚ùå No |
| Release | ‚úÖ Signed (debug key) | ‚úÖ Yes | ‚úÖ Working | ‚úÖ Yes |

**Bottom line:** Both builds are **fully working** and **ready to install**! No setup needed!

## Quick Start

**To get a working APK right now:**

1. Push to GitHub
2. Wait for GitHub Actions to complete
3. Download either APK artifact:
   - `simple-live-debug.apk` - For debugging
   - `simple-live-release.apk` - Optimized version (recommended)
4. Install and use immediately ‚úÖ

**No keystore setup needed! No secrets! No signing steps! Just works!** üéâ
